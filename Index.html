<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AR Model Viewer</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://aframe.io/releases/1.2.0/aframe-ar.js"></script>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f0f0f0;
    }
    button {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 20px;
      font-size: 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- AR Scene using A-Frame with live camera feed -->
  <a-scene embedded arjs="sourceType: webcam; detectionMode: mono; debugUIEnabled: false;">

    <!-- Camera with live video -->
    <a-camera position="0 0 0" id="camera"></a-camera>

    <!-- AR model that appears over the camera feed -->
    <a-entity id="arModel"
              gltf-model="https://raw.githubusercontent.com/Manickvijay/Vishwa/main/ar1.glb"
              scale="0.5 0.5 0.5"
              position="0 0 -3"
              visible="false">
    </a-entity>

  </a-scene>

  <!-- Button to activate AR -->
  <button id="ar-button">View in AR</button>

  <script>
    const arButton = document.getElementById('ar-button');
    const model = document.getElementById('arModel');
    
    // When button is clicked, show the model and start AR
    arButton.addEventListener('click', () => {
      const scene = document.querySelector('a-scene');
      scene.enterAR();  // Activate AR mode with live camera
      
      // Make the model visible and adjust position if necessary
      model.setAttribute('visible', 'true');
      model.setAttribute('position', '0 0 -3'); // Adjust position as needed
    });
  </script>

</body>
</html>
